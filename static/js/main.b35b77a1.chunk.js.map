{"version":3,"sources":["images/logo.svg","components/Header.jsx","contexts/CurrentUserContext.jsx","components/Card.jsx","components/Main.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/EditProfilePopup.jsx","components/ImagePopup.jsx","components/DeleteCardPopup.jsx","utils/api.js","components/App.jsx","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","title","onSubmit","children","buttonText","onClose","EditAvatarPopup","avatarRefInput","useRef","evt","preventDefault","onUpdateAvatar","current","value","isLoad","ref","id","defaultValue","placeholder","required","AddPlacePopup","useState","setName","setLink","useEffect","onChange","minLength","maxLength","EditProfilePopup","info","setInfo","onUpdateUser","ImagePopup","DeleteCardPopup","api","config","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_handleResponce","data","body","JSON","stringify","cardId","authorization","App","setCurrentUser","setCards","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setIsLoad","cardToDelete","setCardToDelete","getInitialCards","catch","err","console","error","getUserInfo","closeAllPopups","Provider","toggleLikeCard","newCard","state","c","setUserInfo","finally","setAvatar","postCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kLAAe,MAA0B,iC,OCElC,SAASA,IACd,OACE,wBAAQC,UAAU,SAAlB,SACE,mBAAGC,KAAK,cAAcD,UAAU,eAAeE,OAAO,SAAtD,SACE,qBAAKF,UAAU,eAAeG,IAAKC,EAAMC,IAAI,mDCL9C,IAAMC,EAAqBC,IAAMC,gBCEjC,SAASC,EAAKC,GACnB,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,kCAC7BJ,EACI,uCACA,uCAEAK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC7DM,EAAuB,gCAC3BJ,EAAU,+BAAiC,KAa7C,OACE,qBAAKlB,UAAU,WAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,wBACEuB,KAAK,SACLvB,UAAWiB,EACXO,QAVkB,WACxBd,EAAMe,aAAaf,EAAMI,SAWrB,qBACEX,IAAKO,EAAMI,KAAKY,KAChBrB,IAAKK,EAAMI,KAAKa,KAChB3B,UAAU,kBACVwB,QAnBY,WAClBd,EAAMkB,YAAYlB,EAAMI,SAoBpB,sBAAKd,UAAU,wBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCU,EAAMI,KAAKa,OAC5C,sBAAK3B,UAAU,2BAAf,UACE,wBACEwB,QA5BY,WACtBd,EAAMmB,WAAWnB,EAAMI,OA4Bbd,UAAWsB,EACXC,KAAK,SACLI,KAAK,OACL,aAAW,SAEb,mBAAG3B,UAAU,qBAAb,SAAmCU,EAAMI,KAAKK,MAAMW,oBChDzD,SAASC,EAAKrB,GACnB,IAAMC,EAAcJ,IAAMK,WAAWN,GAYrC,OACE,uBAAMN,UAAU,OAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,qBACEA,UAAU,kBACVG,IAAKQ,EAAYqB,OACjB3B,IAAI,wEAEN,qBAAKL,UAAU,uBAAuBwB,QApB3B,WACnBd,EAAMuB,aAAavB,EAAMc,eAqBnB,sBAAKxB,UAAU,gBAAf,UACE,oBAAIA,UAAU,sBAAd,SAAqCW,EAAYgB,OACjD,wBACE3B,UAAU,uBACVuB,KAAK,SACLI,KAAK,OACL,aAAW,iFACXH,QA1BU,WACpBd,EAAMwB,cAAcxB,EAAMc,YA2BlB,mBAAGxB,UAAU,yBAAb,SAAuCW,EAAYwB,cAGvD,qBAAKnC,UAAU,gBAAf,SACE,wBACEA,UAAU,sBACVuB,KAAK,SACLI,KAAK,MACL,aAAW,mDACXH,QAlCS,WACjBd,EAAM0B,WAAW1B,EAAMc,iBAqCrB,yBAASxB,UAAU,WAAnB,SACE,qBAAKA,UAAU,iBAAf,SACGU,EAAM2B,MAAMC,KAAI,SAACxB,GAAD,OACf,cAACL,EAAD,CACEK,KAAMA,EAENc,YAAalB,EAAMkB,YACnBC,WAAYnB,EAAMmB,WAClBJ,aAAcf,EAAMe,cAHfX,EAAKE,eCvDjB,SAASuB,IACd,OACE,wBAAQvC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,sCCFC,SAASwC,EAAc9B,GAC5B,OACE,qBACEV,UAAS,2BAAsBU,EAAMiB,KAA5B,YACPjB,EAAM+B,OAAS,eAAiB,KAFpC,SAKE,sBAAKzC,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BU,EAAMgC,QACpC,uBACE1C,UAAU,cACV2B,KAAMjB,EAAMiB,KACZgB,SAAUjC,EAAMiC,SAHlB,UAKGjC,EAAMkC,SACP,wBACE5C,UAAU,qBACVuB,KAAK,SACLI,KAAK,OACL,aAAW,yDAJb,SAMGjB,EAAMmC,gBAGX,wBACE7C,UAAU,sBACVuB,KAAK,SACLI,KAAK,QACL,aAAW,6CACXH,QAASd,EAAMoC,eC3BlB,IAAMC,EAAkB,SAACrC,GAC9B,IAAMsC,EAAiBzC,IAAM0C,SAS7B,OACE,cAACT,EAAD,CACEE,MAAM,wFACNf,KAAK,SACLgB,SAXJ,SAAsBO,GACpBA,EAAIC,iBAEJzC,EAAM0C,eAAe,CACnBpB,OAAQgB,EAAeK,QAAQC,SAQ/Bb,OAAQ/B,EAAM+B,OACdK,QAASpC,EAAMoC,QACfD,WAAYnC,EAAM6C,OAAS,kEAAkB,yDAN/C,SAQE,sBAAKvD,UAAU,yBAAf,UACE,uBACEwD,IAAKR,EACLhD,UAAU,yCACVyD,GAAG,cACH9B,KAAK,SACLJ,KAAK,MACLmC,aAAa,GACbC,YAAY,uCACZC,UAAQ,IAEV,mBAAGH,GAAG,oBAAoBzD,UAAU,gBC9B/B6D,EAAgB,SAACnD,GAC5B,MAAwBH,IAAMuD,SAAS,IAAvC,mBAAOnC,EAAP,KAAaoC,EAAb,KACA,EAAwBxD,IAAMuD,SAAS,IAAvC,mBAAOpC,EAAP,KAAasC,EAAb,KAEAzD,IAAM0D,WAAU,WACdF,EAAQ,IACRC,EAAQ,MACP,CAACtD,EAAM+B,SAkBV,OACE,eAACD,EAAD,CACEE,MAAM,gEACNf,KAAK,OACLc,OAAQ/B,EAAM+B,OACdK,QAASpC,EAAMoC,QACfH,SAdiB,SAACO,GACpBA,EAAIC,iBACJzC,EAAM0B,WAAW,CACfT,OACAD,UAWAmB,WAAYnC,EAAM6C,OAAS,kEAAkB,6CAN/C,UAQE,sBAAKvD,UAAU,yBAAf,UACE,uBACEkE,SA3Ba,SAAChB,GACpBa,EAAQb,EAAIhD,OAAOoD,QA2BbtD,UAAU,wCACVyD,GAAG,aACH9B,KAAK,OACLJ,KAAK,OACL+B,MAAO3B,GAAQ,GACfgC,YAAY,mDACZQ,UAAU,IACVC,UAAU,KACVR,UAAQ,IAEV,mBAAGH,GAAG,mBAAmBzD,UAAU,aAErC,sBAAKA,UAAU,yBAAf,UACE,uBACEkE,SAtCa,SAAChB,GACpBc,EAAQd,EAAIhD,OAAOoD,QAsCbtD,UAAU,wCACVyD,GAAG,YACH9B,KAAK,OACLJ,KAAK,MACL+B,MAAO5B,GAAQ,GACfiC,YAAY,qGACZC,UAAQ,IAEV,mBAAGH,GAAG,kBAAkBzD,UAAU,iBC3D7BqE,EAAmB,SAAC3D,GAC/B,MAAwBH,IAAMuD,SAAS,IAAvC,mBAAOnC,EAAP,KAAaoC,EAAb,KACA,EAAwBxD,IAAMuD,SAAS,IAAvC,mBAAOQ,EAAP,KAAaC,EAAb,KACM5D,EAAcJ,IAAMK,WAAWN,GAErCC,IAAM0D,WAAU,WACdF,EAAQpD,EAAYgB,MACpB4C,EAAQ5D,EAAYwB,SACnB,CAACxB,IAkBJ,OACE,eAAC6B,EAAD,CACEE,MAAM,4HACNf,KAAK,UACLgB,SApBiB,SAACO,GACpBA,EAAIC,iBACJzC,EAAM8D,aAAa,CACjB7C,KAAMA,EACNQ,MAAOmC,KAiBP7B,OAAQ/B,EAAM+B,OACdK,QAASpC,EAAMoC,QACfD,WAAYnC,EAAM6C,OAAS,kEAAkB,yDAN/C,UAQE,sBAAKvD,UAAU,yBAAf,UACE,uBACEA,UAAU,uCACV2B,KAAK,OACL8B,GAAG,eACHlC,KAAK,OACL+B,MAAO3B,GAAQ,GACfgC,YAAY,qBACZQ,UAAU,IACVC,UAAU,KACVR,UAAQ,EACRM,SA5Ba,SAAChB,GACpBa,EAAQb,EAAIhD,OAAOoD,UA6Bf,mBAAGG,GAAG,qBAAqBzD,UAAU,aAEvC,sBAAKA,UAAU,yBAAf,UACE,uBACEA,UAAU,sCACV2B,KAAK,OACL8B,GAAG,cACHlC,KAAK,OACL+B,MAAOgB,GAAQ,GACfX,YAAY,yDACZQ,UAAU,IACVC,UAAU,MACVR,UAAQ,EACRM,SAvCa,SAAChB,GACpBqB,EAAQrB,EAAIhD,OAAOoD,UAwCf,mBAAGG,GAAG,oBAAoBzD,UAAU,iBClErC,SAASyE,EAAW/D,GACzB,OACE,qBACEV,UAAS,iCAA4BU,EAAMI,KAAO,eAAiB,KADrE,SAGE,yBAAQd,UAAU,yBAAlB,UACE,qBACEG,IAAKO,EAAMI,MAAQJ,EAAMI,KAAKY,KAC9BrB,IAAKK,EAAMI,MAAQJ,EAAMI,KAAKa,KAC9B3B,UAAU,iBAEZ,wBACEA,UAAU,gDACVuB,KAAK,SACLI,KAAK,QACL,aAAW,6CACXH,QAASd,EAAMoC,UAEjB,4BAAY9C,UAAU,qBAAtB,SACGU,EAAMI,MAAQJ,EAAMI,KAAKa,YCnB7B,IAAM+C,EAAkB,SAAChE,GAM9B,OACE,qBACEV,UAAS,kCAA6BU,EAAMI,KAAO,eAAiB,KADtE,SAGE,sBAAKd,UAAU,mBAAf,UACE,wBACEA,UAAU,sBACVuB,KAAK,SACLI,KAAK,QACLH,QAASd,EAAMoC,UAEjB,oBAAI9C,UAAU,yCAAd,SACGU,EAAMgC,QAET,wBACE1C,UAAU,oDACVuB,KAAK,SACLI,KAAK,SACLH,QAvBa,SAAC0B,GACpBA,EAAIC,iBACJzC,EAAMc,QAAQd,EAAMI,OAiBhB,SAMGJ,EAAM6C,OAAS,mDAAa,uB,cCwD1BoB,EAAM,I,WAlFjB,WAAYC,GAAQ,oBAClBC,KAAKC,SAAWF,EAAOG,QACvBF,KAAKG,SAAWJ,EAAOK,Q,mDAGzB,SAAgBC,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,6BAGtC,WACE,OAAOC,MAAM,GAAD,OAAIX,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,MACRR,QAASJ,KAAKG,WAEfU,KAAKb,KAAKc,mB,yBAGb,WACE,OAAOH,MAAM,GAAD,OAAIX,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,MACRR,QAASJ,KAAKG,WAEfU,KAAKb,KAAKc,mB,yBAGb,SAAaC,GACX,OAAOJ,MAAM,GAAD,OAAIX,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,QACRR,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBpE,KAAMiE,EAAKjE,KACXQ,MAAOyD,EAAKzD,UAGfuD,KAAKb,KAAKc,mB,sBAGb,SAAUC,GACR,OAAOJ,MAAM,GAAD,OAAIX,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,OACRR,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBpE,KAAMiE,EAAKjE,KACXD,KAAMkE,EAAKlE,SAGdgE,KAAKb,KAAKc,mB,uBAGb,SAAWC,GACT,OAAOJ,MAAM,GAAD,OAAIX,KAAKC,SAAT,oBAAqC,CAC/CW,OAAQ,QACRR,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnB/D,OAAQ4D,EAAK5D,WAGhB0D,KAAKb,KAAKc,mB,wBAGb,SAAYK,GACV,OAAOR,MAAM,GAAD,OAAIX,KAAKC,SAAT,kBAA2BkB,GAAU,CAC/CP,OAAQ,SACRR,QAASJ,KAAKG,WAEfU,KAAKb,KAAKc,mB,4BAGb,SAAgBK,EAAQ9E,GACtB,OAAOsE,MAAM,GAAD,OAAIX,KAAKC,SAAT,wBAAiCkB,GAAU,CACrDP,OAAQvE,EAAU,MAAQ,SAC1B+D,QAASJ,KAAKG,WAEbU,KAAKb,KAAKc,qB,KAME,CAAQ,CACzBZ,QAAS,8CACTE,QAAS,CACP,eAAgB,mBAChBgB,cAAe,0CCzEZ,SAASC,IACd,MAAsC3F,IAAMuD,SAAS,IAArD,mBAAOnD,EAAP,KAAoBwF,EAApB,KACA,EAA0B5F,IAAMuD,SAAS,IAAzC,mBAAOzB,EAAP,KAAc+D,EAAd,KACA,EAAwD7F,IAAMuD,UAAS,GAAvE,mBAAOuC,EAAP,KAA8BC,EAA9B,KACA,EAA0D/F,IAAMuD,UAAS,GAAzE,mBAAOyC,EAAP,KAA+BC,EAA/B,KACA,EAAoDjG,IAAMuD,UAAS,GAAnE,mBAAO2C,EAAP,KAA4BC,EAA5B,KACA,EAAwCnG,IAAMuD,SAAS,MAAvD,mBAAO6C,EAAP,KAAqBC,EAArB,KACA,EAA4BrG,IAAMuD,UAAS,GAA3C,mBAAOP,EAAP,KAAesD,EAAf,KACA,EAAwCtG,IAAMuD,SAAS,MAAvD,mBAAOgD,EAAP,KAAqBC,EAArB,KAGAxG,IAAM0D,WAAU,WACdU,EACGqC,kBACAtB,MAAK,SAACR,GACLkB,EAASlB,MAEV+B,OAAM,SAACC,GACNC,QAAQC,MAAMF,MAElBvC,EACG0C,cACA3B,MAAK,SAACR,GACLiB,EAAejB,MAEhB+B,OAAM,SAACC,GACNC,QAAQC,MAAMF,QAEjB,IAEH,IA+EMI,EAAiB,WACrBd,GAAwB,GACxBF,GAAuB,GACvBI,GAAqB,GACrBE,EAAgB,MAChBG,EAAgB,MAChBF,GAAU,IAmBZ,OACE,cAACvG,EAAmBiH,SAApB,CAA6BjE,MAAO3C,EAApC,SACE,sBAAKX,UAAU,OAAf,UACE,cAACD,EAAD,IACA,cAACgC,EAAD,CACEE,aAlDsB,WAC5B4E,GAAU,GACVP,GAAuB,IAiDjBpE,cA9CuB,WAC7B2E,GAAU,GACVL,GAAwB,IA6ClBpE,WA1CoB,WAC1ByE,GAAU,GACVH,GAAqB,IAyCf9E,YAzDgB,SAACd,GACvB8F,EAAgB9F,IAyDVe,WAjHe,SAACf,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC7D2D,EAAI6C,eAAe1G,EAAKE,KAAME,GAASwE,MAAK,SAAC+B,GAC3CrB,GAAS,SAACsB,GAAD,OAAWA,EAAMpF,KAAI,SAACqF,GAAD,OAAQA,EAAE3G,MAAQF,EAAKE,IAAMyG,EAAUE,YA+GjElG,aAxCsB,SAACX,GAC7B+F,GAAU,GACVE,EAAgBjG,IAuCVuB,MAAOA,IAET,cAACE,EAAD,IACA,cAAC,EAAD,CACEE,OAAQ8D,EACRzD,QAASwE,EACT9C,aAlFiB,SAACoB,GACxBiB,GAAU,GACVlC,EACGiD,YAAYhC,GACZF,MAAK,SAACR,GACLiB,EAAejB,GACfoC,OAEDL,OAAM,SAACC,GACNC,QAAQC,MAAMF,MAEfW,SAAQ,WACPhB,GAAU,OAuERtD,OAAQA,IAEV,cAAC,EAAD,CACEd,OAAQ4D,EACRvD,QAASwE,EACTlE,eAxGmB,SAACwC,GAC1BiB,GAAU,GACVlC,EACGmD,UAAUlC,GACVF,MAAK,SAACR,GACLiB,EAAejB,GACfoC,OAEDL,OAAM,SAACC,GACNC,QAAQC,MAAMF,MAEfW,SAAQ,WACPhB,GAAU,OA6FRtD,OAAQA,IAEV,cAAC,EAAD,CACEd,OAAQgE,EACR3D,QAASwE,EACTlF,WA7CqB,SAACqF,GAC5BZ,GAAU,GACVlC,EACGoD,SAASN,GACT/B,MAAK,SAACR,GACLkB,EAAS,CAAClB,GAAF,mBAAU7C,KAClBiF,OAEDL,OAAM,SAACC,GACNC,QAAQC,MAAMF,MAEfW,SAAQ,WACPhB,GAAU,OAkCRtD,OAAQA,IAEV,cAACkB,EAAD,CAAY3D,KAAM6F,EAAc7D,QAASwE,IACzC,cAAC,EAAD,CACE5E,MAAM,2DACNf,KAAK,aACLb,KAAMgG,EACNhE,QAASwE,EACT9F,QAvIiB,SAACV,GACxB+F,GAAU,GACVlC,EACGqD,WAAWlH,EAAKE,KAChB0E,MAAK,WACJU,EAAS/D,EAAM4F,QAAO,SAACN,GAAD,OAAOA,EAAE3G,MAAQF,EAAKE,WAE7CiG,OAAM,SAACC,GACNC,QAAQC,MAAMF,MAEfW,SAAQ,WACPd,EAAgB,MAChBF,GAAU,OA4HRtD,OAAQA,SC3LlB,IAYe2E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1C,MAAK,YAAkD,IAA/C2C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC1C,EAAD,MAEF2C,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.b35b77a1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from \"../images/logo.svg\";\r\n\r\nexport function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"/index.html\" className=\"header__link\" target=\"_blank\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `elements__button-delete ${\r\n    isOwn\r\n      ? \"elements__delete-button_type_visible\"\r\n      : \"elements__delete-button_type_hidden\"\r\n  }`;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `elements__button-like ${\r\n    isLiked ? \"elements__button-like_active\" : \" \"\r\n  }`;\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card);\r\n  };\r\n  const handleDeleteClick = () => {\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  return (\r\n    <div className=\"template\">\r\n      <div className=\"elements__card\">\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"elements__image\"\r\n          onClick={handleClick}\r\n        />\r\n        <div className=\"elements__information\">\r\n          <h2 className=\"elements__title\">{props.card.name}</h2>\r\n          <div className=\"elements__container-like\">\r\n            <button\r\n              onClick={handleLikeClick}\r\n              className={cardLikeButtonClassName}\r\n              type=\"button\"\r\n              name=\"Like\"\r\n              aria-label=\"Like\"\r\n            ></button>\r\n            <p className=\"elements__quantity\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card } from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const onEditAvatar = () => {\r\n    props.onEditAvatar(props.onClick);\r\n  };\r\n  const onEditProfile = () => {\r\n    props.onEditProfile(props.onClick);\r\n  };\r\n  const onAddPlace = () => {\r\n    props.onAddPlace(props.onClick);\r\n  };\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__item\">\r\n          <div className=\"profile__section\">\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentUser.avatar}\r\n              alt=\"Фото профиля\"\r\n            />\r\n            <div className=\"profile__avatar-edit\" onClick={onEditAvatar}></div>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__button-edit\"\r\n              type=\"button\"\r\n              name=\"Edit\"\r\n              aria-label=\"Редактировать\"\r\n              onClick={onEditProfile}\r\n            ></button>\r\n            <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__item\">\r\n          <button\r\n            className=\"profile__button-add\"\r\n            type=\"button\"\r\n            name=\"Add\"\r\n            aria-label=\"Добавить\"\r\n            onClick={onAddPlace}\r\n          ></button>\r\n        </div>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <div className=\"elements__item\">\r\n          {props.cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              key={card._id}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport function PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \" \"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button\r\n            className=\"popup__button-save\"\r\n            type=\"submit\"\r\n            name=\"Save\"\r\n            aria-label=\"Сохранить\"\r\n          >\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          name=\"Close\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport const EditAvatarPopup = (props) => {\r\n  const avatarRefInput = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRefInput.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText={props.isLoad ? \"Сохранение...\" : \"Сохранить\"}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          ref={avatarRefInput}\r\n          className=\"popup__input popup__input_value_avatar\"\r\n          id=\"avatar-card\"\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          defaultValue=\"\"\r\n          placeholder=\"Ссылка\"\r\n          required\r\n        />\r\n        <p id=\"avatar-card-error\" className=\"error\"></p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport const AddPlacePopup = (props) => {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  const onChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const onChangeLink = (evt) => {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"card\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={props.isLoad ? \"Сохранение...\" : \"Создать\"}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          onChange={onChangeName}\r\n          className=\"popup__input popup__input_value_title\"\r\n          id=\"title-card\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={name || \"\"}\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n        />\r\n        <p id=\"title-card-error\" className=\"error\"></p>\r\n      </div>\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          onChange={onChangeLink}\r\n          className=\"popup__input popup__input_value_image\"\r\n          id=\"link-card\"\r\n          name=\"link\"\r\n          type=\"url\"\r\n          value={link || \"\"}\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <p id=\"link-card-error\" className=\"error\"></p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport const EditProfilePopup = (props) => {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [info, setInfo] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setInfo(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: info,\r\n    });\r\n  };\r\n\r\n  const onChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const onChangeInfo = (evt) => {\r\n    setInfo(evt.target.value);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText={props.isLoad ? \"Сохранение...\" : \"Сохранить\"}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          className=\"popup__input popup__input_value_name\"\r\n          name=\"name\"\r\n          id=\"name-profile\"\r\n          type=\"text\"\r\n          value={name || \"\"}\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n          onChange={onChangeName}\r\n        />\r\n        <p id=\"name-profile-error\" className=\"error\"></p>\r\n      </div>\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          className=\"popup__input popup__input_value_job\"\r\n          name=\"info\"\r\n          id=\"job-profile\"\r\n          type=\"text\"\r\n          value={info || \"\"}\r\n          placeholder=\"Профессия\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          onChange={onChangeInfo}\r\n        />\r\n        <p id=\"job-profile-error\" className=\"error\"></p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nexport function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_image ${props.card ? \"popup_opened\" : \" \"}`}\r\n    >\r\n      <figure className=\"popup__container-image\">\r\n        <img\r\n          src={props.card && props.card.link}\r\n          alt={props.card && props.card.name}\r\n          className=\"popup__image\"\r\n        />\r\n        <button\r\n          className=\"popup__button-close popup__button-close_image\"\r\n          type=\"button\"\r\n          name=\"Close\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <figcaption className=\"popup__description\">\r\n          {props.card && props.card.name}\r\n        </figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const DeleteCardPopup = (props) => {\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onClick(props.card);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_delete ${props.card ? \"popup_opened\" : \" \"}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          name=\"Close\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h3 className=\"popup__title popup__title_theme_delete\">\r\n          {props.title}\r\n        </h3>\r\n        <button\r\n          className=\"popup__button-save popup__button-save_type_delete\"\r\n          type=\"submit\"\r\n          name=\"delete\"\r\n          onClick={handleSubmit}\r\n        >\r\n          {props.isLoad ? \"Удаление\" : \"Да\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","class Api {\r\n  constructor(config){\r\n    this._baseUrl = config.baseUrl;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _handleResponce(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,  \r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  setUserInfo( data ) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  postCard( data ) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      })\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n  \r\n  setAvatar( data ) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  deleteCard( cardId ) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  toggleLikeCard( cardId, isLiked ) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponce);\r\n  }\r\n  \r\n\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-26\",\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n    authorization: \"6a8d306b-88c2-4559-b9fb-ed6535e42e98\",\r\n  },\r\n});\r\n","import \"../index.css\";\nimport React from \"react\";\nimport { Header } from \"./Header\";\nimport { Main } from \"./Main\";\nimport { Footer } from \"./Footer\";\nimport { PopupWithForm } from \"./PopupWithForm\";\nimport { EditAvatarPopup } from \"./EditAvatarPopup\";\nimport { AddPlacePopup } from \"./AddPlacePopup\";\nimport { EditProfilePopup } from \"./EditProfilePopup\";\nimport { ImagePopup } from \"./ImagePopup\";\nimport { DeleteCardPopup } from \"./DeleteCardPopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { api } from \"../utils/api\";\n\nexport function App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [isLoad, setIsLoad] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState(null);\n\n  //API\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, []);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.toggleLikeCard(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n    });\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoad(false);\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setCardToDelete(null);\n        setIsLoad(true);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    setIsLoad(true);\n    api\n      .setAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoad(false);\n      });\n  };\n\n  const handleUpdateUser = (data) => {\n    setIsLoad(true);\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoad(false);\n      });\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsLoad(false);\n    setEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsLoad(false);\n    setEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsLoad(false);\n    setAddPlacePopupOpen(true);\n  };\n\n  const handleDeleteCardClick = (card) => {\n    setIsLoad(false);\n    setCardToDelete(card);\n  };\n\n  const closeAllPopups = () => {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard(null);\n    setCardToDelete(null);\n    setIsLoad(false);\n  };\n\n  const handleAddPlaceSubmit = (newCard) => {\n    setIsLoad(true);\n    api\n      .postCard(newCard)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoad(false);\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteCardClick}\n          cards={cards}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoad={isLoad}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoad={isLoad}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoad={isLoad}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <DeleteCardPopup\n          title=\"Вы уверены?\"\n          name=\"CardDelete\"\n          card={cardToDelete}\n          onClose={closeAllPopups}\n          onClick={handleCardDelete}\n          isLoad={isLoad}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}